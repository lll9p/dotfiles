# Aria2 配置文件
# 迁移自 _archive/applications/aria2

# 基本配置
dir={{ .chezmoi.homeDir }}/Downloads
input-file={{ .chezmoi.homeDir }}/.config/aria2/session.lock
continue=true
log=/var/log/aria2/aria2.log
log-level=info
check-certificate=false
daemon=false
disk-cache=4M

# HTTP/FTP 配置
max-concurrent-downloads=50
max-connection-per-server=16

# BT 特殊配置
enable-dht=true
enable-dht6=true
dht-file-path={{ .chezmoi.homeDir }}/.config/aria2/dht.dat
dht-file-path6={{ .chezmoi.homeDir }}/.config/aria2/dht6.dat
enable-peer-exchange=true
dht-entry-point=dht.transmissionbt.com:6881
dht-entry-point6=dht.transmissionbt.com:6881
bt-max-peers=100
bt-load-saved-metadata=true
bt-force-encryption=true
peer-agent=Deluge 1.3.15
peer-id-prefix=-DE13F0-
bt-enable-lpd=true
bt-max-open-files=1000
bt-min-crypto-level=plain
bt-require-crypto=false
listen-port=7881-7999
dht-listen-port=7881-7999
seed-time=120

# BT Tracker 列表（可能需要定期更新）
bt-tracker=http://1337.abcvg.info:80/announce,http://bt.endpot.com:80/announce,http://nyaa.tracker.wf:7777/announce,http://open.acgnxtracker.com:80/announce,http://tracker.bt4g.com:2095/announce,http://tracker.openbittorrent.com:80/announce,https://opentracker.i2p.rocks:443/announce,https://tracker.gbitt.info:443/announce,https://tracker.tamersunion.org:443/announce,udp://exodus.desync.com:6969/announce,udp://open.stealth.si:80/announce,udp://open.tracker.cl:1337/announce,udp://opentracker.i2p.rocks:6969/announce,udp://tracker.opentrackr.org:1337/announce,udp://tracker.torrent.eu.org:451/announce

# RPC 配置
enable-rpc=true
rpc-allow-origin-all=true
rpc-listen-all=true
rpc-listen-port=6800
rpc-max-request-size=20M
# RPC secret 应该通过环境变量或 secrets 文件配置
# rpc-secret=YOUR_SECRET_HERE

# 高级配置
disable-ipv6=false
file-allocation=falloc
save-session={{ .chezmoi.homeDir }}/.config/aria2/session.lock
save-session-interval=60
parameterized-uri=true
